<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>AMS | Dashboard</title>

<link rel="icon" type="image/png" th:href="@{/img/favicon.ico}" />
<!-- Custom fonts for this template-->
<link th:href="@{/vendor/fontawesome-free/css/all.min.css}"
	rel="stylesheet" type="text/css">
<link th:href="@{/css/fonts-google-apis.css}" rel="stylesheet"
	type="text/css">

<!-- Custom styles for this template-->
<link th:href="@{/css/sb-admin-2.css}" rel="stylesheet" type="text/css">
<link th:href="@{/css/custom.css}" rel="stylesheet" type="text/css">

</head>

<body id="page-top">

	<!-- Page Wrapper -->
	<div id="wrapper">

		<!--------------------- Sidebar from header.html file --------------------------------->
		<ul th:replace="user/header :: header-side"></ul>
		<!--------------------- End of Sidebar ------------------------------------------------>

		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">

			<!-- Main Content -->
			<div id="content">

				<!---------------------- Topbar from header.html file ------------------------>
				<div th:replace="user/header :: header-top"></div>
				<!---------------------- End of Topbar --------------------------------------->

				<!---------------------- Begin Page Content ---------------------------------->
				<div class="container-fluid">

					<!-- Page Heading -->
					<div
						class="d-sm-flex align-items-center justify-content-between mb-4">
						<h1 class="h3 mb-0 text-gray-800">
							Welcome <span th:text="${session.user.displayName}"></span>
						</h1>
						<div th:if="${error}">
							<a href="#" id="cmd"
								class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
								class="fas fa-download fa-sm text-white-50"></i> Download Card</a>
						</div>
					</div>

					<!-- Content Row -->
					<div class="row">

						<!-- Earnings (Monthly) Card Example -->
						<div class="col-xl-3 col-md-6 mb-4">
							<div class="card border-left-primary shadow py-2"></div>
						</div>

						<!-- Earnings (Monthly) Card Example -->
						<div class="col-xl-3 col-md-6 mb-4">
							<div class="card border-left-success shadow py-2"></div>
						</div>

						<!-- Earnings (Monthly) Card Example -->
						<div class="col-xl-3 col-md-6 mb-4">
							<div class="card border-left-info shadow py-2"></div>
						</div>

						<!-- Pending Requests Card Example -->
						<div class="col-xl-3 col-md-6 mb-4">
							<div class="card border-left-warning shadow py-2"></div>
						</div>
					</div>
					<div>
						<!-- Content Row -->
						<div th:if="${error}" class="row">

							<!-- Content Column -->
							<div class="col-lg-12 mb-4">

								<!-- Project Card Example -->
								<div class="card shadow mb-4">
									<div class="card-header py-3">
										<h6 class="m-0 font-weight-bold text-primary">
											Your Aadhar Card id Ready !! <i
												class="fas fa-hand-point-down"></i>
										</h6>
									</div>
									<div class="card-body">
										<div class="container">
											<div class="row" id="imagetocreate">
												<div class="col-3 align-self-start"></div>
												<div class="col-6 align-self-center">
													<div class="row border  border border-primary rounded">
														<div class="col">
															<img alt="logo" th:src="@{/img/f-logo.png}"
																class="img-fluid px-3 px-sm-4 mt-3 mb-4">
														</div>
														<div class="w-100"></div>
														<div class="col-4">
															<img alt="Your Photo"
																th:src="@{/owner/downloadimage/{id}(id=${aadharCard.id})}"
																class="img-fluid px-3 px-sm-4 mt-3 mb-4">
														</div>
														<div class="col-8">
															<div class="row" style="color: black;">
																<div class="col-4 font-weight-bold">Name :</div>
																<div class="col-8 ">
																	<span th:text="${aadharCard.firstName}"></span> <span
																		th:text="${aadharCard.lastName}"></span>
																</div>

																<!-- Force next columns to break to new line -->
																<div class="w-100"></div>

																<div class="col-4 font-weight-bold">Father :</div>
																<div class="col-8 ">
																	<span th:text="${aadharCard.middleName}"></span> <span
																		th:text="${aadharCard.lastName}"></span>
																</div>
																<div class="w-100"></div>
																<div class="col-4 font-weight-bold">DOB :</div>
																<div class="col-8 ">
																	<span th:text="${aadharCard.dob}"></span>
																</div>

																<!-- Force next columns to break to new line -->
																<div class="w-100"></div>

																<div class="col-4 font-weight-bold">Gender :</div>
																<div class="col-8 ">
																	<span th:text="${aadharCard.gender}"></span>
																</div>
															</div>
														</div>

														<div class="col-12 text-center mt-3">
															<h2
																style="font-weight: bold; color: black; letter-spacing: 5px;">
																<span id="myId" th:text="${aadharCard.aadharNo}"></span>
															</h2>
														</div>
														<div class="col-12 text-center">
															<hr class="bg-danger">
															<span class="font-weight-bold text-info">माझे
																आधार, माझी ओळख </span>
															<hr class="bg-danger">
														</div>

													</div>

													<div class="row">
														<div class="col-12">
															<hr>
														</div>
													</div>



													<div class="row  border border-primary rounded"
														style="color: black;">
														<div class="col">
															<img alt="logo" th:src="@{/img/r-logo.png}"
																class="img-fluid px-3 px-sm-4 mt-3 mb-4">
														</div>
														<div class="w-100"></div>

														<div class="col-8">
															<div class="row">
																<div class="col-4 font-weight-bold">Address :</div>
																<div class="col-8 ">
																	<span
																		th:text="${aadharCard.address.houseNo} +', '+${aadharCard.address.street}"></span><br>
																	<span
																		th:text="${aadharCard.address.city} +', '+${aadharCard.address.state} "></span><br>
																	<span
																		th:text="${aadharCard.address.country} +' - '+${aadharCard.address.pin} "></span>
																</div>

																<!-- Force next columns to break to new line -->
																<div class="w-100"></div>

																<div class="col-4 font-weight-bold">Email :</div>
																<div class="col-8">
																	<span th:text="${aadharCard.email}"></span>
																</div>
																<div class="w-100"></div>
																<div class="col-4 font-weight-bold">Mobile :</div>
																<div class="col-8 ">
																	<span th:text="'+91 - ' + ${aadharCard.mobileNo}"></span>
																</div>

															</div>
														</div>
														<div class="col-4">
															<img alt="QR Code" src=""
																class="img-fluid px-3 px-sm-4 mt-3 mb-4" id="qr">
															
														</div>
														<div class="col-12 text-center mt-3">
															<h2
																style="font-weight: bold; color: black; letter-spacing: 5px;">
																<span th:text="${aadharCard.aadharNo}"></span>
															</h2>
														</div>
														<div class="col-12">
															<hr class="bg-danger">
															<span><i class="fas fa-envelope"></i> :
																amssupport@gmail.com</span> <span style="float: right;"><i
																class="fas fa-mobile-alt"></i> : +91-9876543210</span>
															<hr class="bg-danger">
														</div>

													</div>
												</div>
												<div class="col-3 align-self-end"></div>
											</div>
											<div id="editor"></div>
										</div>
									</div>
								</div>

							</div>

						</div>
						<div th:unless="${error}" class="row">
							<!-- Content Column -->
							<div class="col-lg-12 mb-4">
								<h2>Sorry for inconvenience Data Not Ready yet !</h2>

							</div>

						</div>

					</div>

				</div>
				<!-- /.container-fluid -->
				<canvas hidden="true" class="img-fluid px-3 px-sm-4 mt-3 mb-4" id="qr-code"></canvas>
			</div>
			<!--------------------------- End of Main Content ------------------------------->

			<!---------------------- Footer from header.html file ----------------------->
			<footer th:replace="user/header :: header-footer"></footer>
			<!---------------------- End of Footer -------------------------------------->

		</div>
		<!-- End of Content Wrapper -->

	</div>
	<!-- End of Page Wrapper -->

	<!-- Scroll to Top Button-->
	<a class="scroll-to-top rounded" href="#page-top"> <i
		class="fas fa-angle-up"></i>
	</a>


	<!------------ Logout Modal from header.html file --------------------------->
	<div th:replace="user/header :: header-logout"></div>
	<!------------ End Logout Modal from header.html file ----------------------->

	<!------------ JS from header.html file --------------------------->
	<div th:replace="user/header :: header-js"></div>
	<!------------ End JS from header.html file ----------------------->

	<script>
		/* JS comes here */
		var msg = "[[${error}]]";
		if (msg) {
			var qr;
			var details = "Name : " + "[[${aadharCard.firstName}]]" + " "
					+ "[[${aadharCard.middleName}]]" + " "
					+ "[[${aadharCard.lastName}]]" + ",    ";
			var no = "Aadhar Card Number : " + "[[${aadharCard.aadharNo}]]"+ ",    ";
			var email = "Email : " + "[[${aadharCard.email}]]"+ ",    ";
			var mobile = "Mobile : " + "[[${aadharCard.mobileNo}]]";
			(function() {
				qr = new QRious({
					element : document.getElementById('qr-code'),
					size : 200,
					value : '' + details + no + email + mobile
				});
			})();
		}
		
		var canvas = document.getElementById("qr-code");
		var img    = canvas.toDataURL("image/png");
		$("#qr").attr("src", img);
		
	</script>

</body>
</html>
